# Configuration Apache pour Broadcast App
# À ajouter dans le VirtualHost existant de www.event2one.com

# ============================================
# IMPORTANT: À ajouter dans le fichier de configuration existant
# /etc/apache2/sites-available/www.event2one.com.conf
# Dans le bloc <VirtualHost *:443>
# ============================================

# Reverse Proxy pour /broadcast
ProxyPreserveHost On
ProxyPass /broadcast http://localhost:3001/broadcast
ProxyPassReverse /broadcast http://localhost:3001/broadcast

# Support WebSocket pour Socket.IO
RewriteEngine On
RewriteCond %{HTTP:Upgrade} =websocket [NC]
RewriteRule /broadcast/(.*) ws://localhost:3001/broadcast/$1 [P,L]

# Headers de sécurité
Header always set X-Frame-Options "SAMEORIGIN"
Header always set X-Content-Type-Options "nosniff"
