# Configuration Apache pour Broadcast App
# À ajouter dans le VirtualHost existant de www.event2one.com

# Dans le bloc <VirtualHost *:443> de www.event2one.com, ajouter :

# Reverse Proxy pour /broadcast
ProxyPreserveHost On
ProxyPass /broadcast http://localhost:3001/broadcast
ProxyPassReverse /broadcast http://localhost:3001/broadcast

# Support WebSocket pour Socket.IO
RewriteEngine On
RewriteCond %{HTTP:Upgrade} =websocket [NC]
RewriteRule /broadcast/(.*) ws://localhost:3001/broadcast/$1 [P,L]

# Headers de sécurité
Header always set X-Frame-Options "SAMEORIGIN"
Header always set X-Content-Type-Options "nosniff"

# Logs spécifiques (optionnel)
# ErrorLog ${APACHE_LOG_DIR}/broadcast-error.log
# CustomLog ${APACHE_LOG_DIR}/broadcast-access.log combined
